function L_star_16el = ekf_L_16el_rect(in1)
%ekf_L_16el_rect
%    L_star_16el = ekf_L_16el_rect(IN1)

%    This function was generated by the Symbolic Math Toolbox version 24.2.
%    07-Oct-2025 20:04:17

bg1 = in1(14,:);
bg2 = in1(15,:);
bg3 = in1(16,:);
dt = in1(35,:);
q1 = in1(4,:);
q2 = in1(5,:);
q3 = in1(6,:);
q4 = in1(7,:);
u_g_new1 = in1(17,:);
u_g_new2 = in1(18,:);
u_g_new3 = in1(19,:);
w_g1 = in1(23,:);
w_g2 = in1(24,:);
w_g3 = in1(25,:);
t2 = conj(dt);
t3 = q2.^2;
t4 = q3.^2;
t5 = q4.^2;
t6 = q1.*q2.*2.0;
t7 = q1.*q3.*2.0;
t8 = q1.*q4.*2.0;
t9 = q2.*q3.*2.0;
t10 = q2.*q4.*2.0;
t11 = q3.*q4.*2.0;
t12 = -bg1;
t13 = -bg2;
t14 = -bg3;
t15 = t3.*2.0;
t16 = t4.*2.0;
t17 = t5.*2.0;
t18 = t12+u_g_new1+w_g1;
t19 = t13+u_g_new2+w_g2;
t20 = t14+u_g_new3+w_g3;
t21 = abs(t18);
t22 = abs(t19);
t23 = abs(t20);
t24 = sign(t18);
t25 = sign(t19);
t26 = sign(t20);
t27 = t21.^2;
t28 = t22.^2;
t29 = t23.^2;
t30 = t27+t28+t29;
t31 = 1.0./t30;
t32 = sqrt(t30);
t33 = 1.0./t32;
t35 = (dt.*t32)./2.0;
t36 = (t2.*t32)./2.0;
t34 = t33.^3;
t37 = cos(t35);
t38 = sin(t35);
t39 = cos(t36);
t40 = sin(t36);
t41 = q1.*t37;
t42 = q2.*t37;
t43 = q3.*t37;
t44 = q4.*t37;
t45 = q1.*t39;
t46 = q2.*t39;
t47 = q3.*t39;
t48 = q4.*t39;
t51 = q1.*t33.*t38;
t52 = q2.*t33.*t38;
t53 = q3.*t33.*t38;
t54 = q4.*t33.*t38;
t55 = q1.*t33.*t40;
t56 = q2.*t33.*t40;
t57 = q3.*t33.*t40;
t58 = q4.*t33.*t40;
t119 = q1.*t18.*t21.*t24.*t34.*t38;
t120 = q2.*t18.*t21.*t24.*t34.*t38;
t121 = q3.*t18.*t21.*t24.*t34.*t38;
t122 = q1.*t19.*t21.*t24.*t34.*t38;
t123 = q4.*t18.*t21.*t24.*t34.*t38;
t124 = q2.*t19.*t21.*t24.*t34.*t38;
t125 = q3.*t19.*t21.*t24.*t34.*t38;
t126 = q1.*t20.*t21.*t24.*t34.*t38;
t127 = q1.*t18.*t22.*t25.*t34.*t38;
t128 = q4.*t19.*t21.*t24.*t34.*t38;
t129 = q2.*t20.*t21.*t24.*t34.*t38;
t130 = q2.*t18.*t22.*t25.*t34.*t38;
t131 = q3.*t20.*t21.*t24.*t34.*t38;
t132 = q3.*t18.*t22.*t25.*t34.*t38;
t133 = q1.*t19.*t22.*t25.*t34.*t38;
t134 = q4.*t20.*t21.*t24.*t34.*t38;
t135 = q4.*t18.*t22.*t25.*t34.*t38;
t136 = q2.*t19.*t22.*t25.*t34.*t38;
t137 = q3.*t19.*t22.*t25.*t34.*t38;
t138 = q1.*t20.*t22.*t25.*t34.*t38;
t139 = q1.*t18.*t23.*t26.*t34.*t38;
t140 = q4.*t19.*t22.*t25.*t34.*t38;
t141 = q2.*t20.*t22.*t25.*t34.*t38;
t142 = q2.*t18.*t23.*t26.*t34.*t38;
t143 = q3.*t20.*t22.*t25.*t34.*t38;
t144 = q3.*t18.*t23.*t26.*t34.*t38;
t145 = q1.*t19.*t23.*t26.*t34.*t38;
t146 = q4.*t20.*t22.*t25.*t34.*t38;
t147 = q4.*t18.*t23.*t26.*t34.*t38;
t148 = q2.*t19.*t23.*t26.*t34.*t38;
t149 = q3.*t19.*t23.*t26.*t34.*t38;
t150 = q1.*t20.*t23.*t26.*t34.*t38;
t151 = q4.*t19.*t23.*t26.*t34.*t38;
t152 = q2.*t20.*t23.*t26.*t34.*t38;
t153 = q3.*t20.*t23.*t26.*t34.*t38;
t154 = q4.*t20.*t23.*t26.*t34.*t38;
t161 = q1.*t18.*t21.*t24.*t34.*t40;
t162 = q2.*t18.*t21.*t24.*t34.*t40;
t163 = q3.*t18.*t21.*t24.*t34.*t40;
t164 = q1.*t19.*t21.*t24.*t34.*t40;
t165 = q4.*t18.*t21.*t24.*t34.*t40;
t166 = q2.*t19.*t21.*t24.*t34.*t40;
t167 = q3.*t19.*t21.*t24.*t34.*t40;
t168 = q1.*t20.*t21.*t24.*t34.*t40;
t169 = q1.*t18.*t22.*t25.*t34.*t40;
t170 = q4.*t19.*t21.*t24.*t34.*t40;
t171 = q2.*t20.*t21.*t24.*t34.*t40;
t172 = q2.*t18.*t22.*t25.*t34.*t40;
t173 = q3.*t20.*t21.*t24.*t34.*t40;
t174 = q3.*t18.*t22.*t25.*t34.*t40;
t175 = q1.*t19.*t22.*t25.*t34.*t40;
t176 = q4.*t20.*t21.*t24.*t34.*t40;
t177 = q4.*t18.*t22.*t25.*t34.*t40;
t178 = q2.*t19.*t22.*t25.*t34.*t40;
t179 = q3.*t19.*t22.*t25.*t34.*t40;
t180 = q1.*t20.*t22.*t25.*t34.*t40;
t181 = q1.*t18.*t23.*t26.*t34.*t40;
t182 = q4.*t19.*t22.*t25.*t34.*t40;
t183 = q2.*t20.*t22.*t25.*t34.*t40;
t184 = q2.*t18.*t23.*t26.*t34.*t40;
t185 = q3.*t20.*t22.*t25.*t34.*t40;
t186 = q3.*t18.*t23.*t26.*t34.*t40;
t187 = q1.*t19.*t23.*t26.*t34.*t40;
t188 = q4.*t20.*t22.*t25.*t34.*t40;
t189 = q4.*t18.*t23.*t26.*t34.*t40;
t190 = q2.*t19.*t23.*t26.*t34.*t40;
t191 = q3.*t19.*t23.*t26.*t34.*t40;
t192 = q1.*t20.*t23.*t26.*t34.*t40;
t193 = q4.*t19.*t23.*t26.*t34.*t40;
t194 = q2.*t20.*t23.*t26.*t34.*t40;
t195 = q3.*t20.*t23.*t26.*t34.*t40;
t196 = q4.*t20.*t23.*t26.*t34.*t40;
t49 = -t41;
t50 = -t45;
t59 = t18.*t51;
t60 = t18.*t52;
t61 = t18.*t53;
t62 = t19.*t51;
t63 = t18.*t54;
t64 = t19.*t52;
t65 = t19.*t53;
t66 = t20.*t51;
t67 = t19.*t54;
t68 = t20.*t52;
t69 = t20.*t53;
t70 = t20.*t54;
t71 = t18.*t55;
t72 = t18.*t56;
t73 = t18.*t57;
t74 = t19.*t55;
t75 = t18.*t58;
t76 = t19.*t56;
t77 = t19.*t57;
t78 = t20.*t55;
t79 = t19.*t58;
t80 = t20.*t56;
t81 = t20.*t57;
t82 = t20.*t58;
t89 = (dt.*t21.*t24.*t51)./2.0;
t90 = (dt.*t21.*t24.*t52)./2.0;
t91 = (dt.*t21.*t24.*t53)./2.0;
t92 = (dt.*t21.*t24.*t54)./2.0;
t93 = (dt.*t22.*t25.*t51)./2.0;
t94 = (dt.*t22.*t25.*t52)./2.0;
t95 = (dt.*t22.*t25.*t53)./2.0;
t96 = (dt.*t22.*t25.*t54)./2.0;
t97 = (dt.*t23.*t26.*t51)./2.0;
t98 = (dt.*t23.*t26.*t52)./2.0;
t99 = (dt.*t23.*t26.*t53)./2.0;
t100 = (dt.*t23.*t26.*t54)./2.0;
t107 = (t2.*t21.*t24.*t55)./2.0;
t108 = (t2.*t21.*t24.*t56)./2.0;
t109 = (t2.*t21.*t24.*t57)./2.0;
t110 = (t2.*t21.*t24.*t58)./2.0;
t111 = (t2.*t22.*t25.*t55)./2.0;
t112 = (t2.*t22.*t25.*t56)./2.0;
t113 = (t2.*t22.*t25.*t57)./2.0;
t114 = (t2.*t22.*t25.*t58)./2.0;
t115 = (t2.*t23.*t26.*t55)./2.0;
t116 = (t2.*t23.*t26.*t56)./2.0;
t117 = (t2.*t23.*t26.*t57)./2.0;
t118 = (t2.*t23.*t26.*t58)./2.0;
t197 = -t119;
t198 = -t120;
t199 = -t121;
t200 = -t122;
t201 = -t123;
t202 = -t125;
t203 = -t130;
t204 = -t131;
t205 = -t133;
t206 = -t134;
t207 = -t135;
t208 = -t136;
t209 = -t137;
t210 = -t138;
t211 = -t139;
t212 = -t140;
t213 = -t142;
t214 = -t146;
t215 = -t148;
t216 = -t149;
t217 = -t150;
t218 = -t152;
t219 = -t153;
t220 = -t154;
t221 = (dt.*t18.*t21.*t24.*t31.*t41)./2.0;
t222 = (dt.*t18.*t21.*t24.*t31.*t42)./2.0;
t223 = (dt.*t18.*t21.*t24.*t31.*t43)./2.0;
t224 = (dt.*t19.*t21.*t24.*t31.*t41)./2.0;
t225 = (dt.*t18.*t21.*t24.*t31.*t44)./2.0;
t226 = (dt.*t19.*t21.*t24.*t31.*t42)./2.0;
t227 = (dt.*t19.*t21.*t24.*t31.*t43)./2.0;
t228 = (dt.*t20.*t21.*t24.*t31.*t41)./2.0;
t229 = (dt.*t18.*t22.*t25.*t31.*t41)./2.0;
t230 = (dt.*t19.*t21.*t24.*t31.*t44)./2.0;
t231 = (dt.*t20.*t21.*t24.*t31.*t42)./2.0;
t232 = (dt.*t18.*t22.*t25.*t31.*t42)./2.0;
t233 = (dt.*t20.*t21.*t24.*t31.*t43)./2.0;
t234 = (dt.*t18.*t22.*t25.*t31.*t43)./2.0;
t235 = (dt.*t19.*t22.*t25.*t31.*t41)./2.0;
t236 = (dt.*t20.*t21.*t24.*t31.*t44)./2.0;
t237 = (dt.*t18.*t22.*t25.*t31.*t44)./2.0;
t238 = (dt.*t19.*t22.*t25.*t31.*t42)./2.0;
t239 = (dt.*t19.*t22.*t25.*t31.*t43)./2.0;
t240 = (dt.*t20.*t22.*t25.*t31.*t41)./2.0;
t241 = (dt.*t18.*t23.*t26.*t31.*t41)./2.0;
t242 = (dt.*t19.*t22.*t25.*t31.*t44)./2.0;
t243 = (dt.*t20.*t22.*t25.*t31.*t42)./2.0;
t244 = (dt.*t18.*t23.*t26.*t31.*t42)./2.0;
t245 = (dt.*t20.*t22.*t25.*t31.*t43)./2.0;
t246 = (dt.*t18.*t23.*t26.*t31.*t43)./2.0;
t247 = (dt.*t19.*t23.*t26.*t31.*t41)./2.0;
t248 = (dt.*t20.*t22.*t25.*t31.*t44)./2.0;
t249 = (dt.*t18.*t23.*t26.*t31.*t44)./2.0;
t250 = (dt.*t19.*t23.*t26.*t31.*t42)./2.0;
t251 = (dt.*t19.*t23.*t26.*t31.*t43)./2.0;
t252 = (dt.*t20.*t23.*t26.*t31.*t41)./2.0;
t253 = (dt.*t19.*t23.*t26.*t31.*t44)./2.0;
t254 = (dt.*t20.*t23.*t26.*t31.*t42)./2.0;
t255 = (dt.*t20.*t23.*t26.*t31.*t43)./2.0;
t256 = (dt.*t20.*t23.*t26.*t31.*t44)./2.0;
t269 = -t161;
t270 = -t162;
t271 = -t163;
t272 = -t164;
t273 = -t165;
t274 = -t167;
t275 = -t172;
t276 = -t173;
t277 = -t175;
t278 = -t176;
t279 = -t177;
t280 = -t178;
t281 = -t179;
t282 = -t180;
t283 = -t181;
t284 = -t182;
t285 = -t184;
t286 = -t188;
t287 = -t190;
t288 = -t191;
t289 = -t192;
t290 = -t194;
t291 = -t195;
t292 = -t196;
t293 = (t2.*t18.*t21.*t24.*t31.*t45)./2.0;
t294 = (t2.*t18.*t21.*t24.*t31.*t46)./2.0;
t295 = (t2.*t18.*t21.*t24.*t31.*t47)./2.0;
t296 = (t2.*t19.*t21.*t24.*t31.*t45)./2.0;
t297 = (t2.*t18.*t21.*t24.*t31.*t48)./2.0;
t298 = (t2.*t19.*t21.*t24.*t31.*t46)./2.0;
t299 = (t2.*t19.*t21.*t24.*t31.*t47)./2.0;
t300 = (t2.*t20.*t21.*t24.*t31.*t45)./2.0;
t301 = (t2.*t18.*t22.*t25.*t31.*t45)./2.0;
t302 = (t2.*t19.*t21.*t24.*t31.*t48)./2.0;
t303 = (t2.*t20.*t21.*t24.*t31.*t46)./2.0;
t304 = (t2.*t18.*t22.*t25.*t31.*t46)./2.0;
t305 = (t2.*t20.*t21.*t24.*t31.*t47)./2.0;
t306 = (t2.*t18.*t22.*t25.*t31.*t47)./2.0;
t307 = (t2.*t19.*t22.*t25.*t31.*t45)./2.0;
t308 = (t2.*t20.*t21.*t24.*t31.*t48)./2.0;
t309 = (t2.*t18.*t22.*t25.*t31.*t48)./2.0;
t310 = (t2.*t19.*t22.*t25.*t31.*t46)./2.0;
t311 = (t2.*t19.*t22.*t25.*t31.*t47)./2.0;
t312 = (t2.*t20.*t22.*t25.*t31.*t45)./2.0;
t313 = (t2.*t18.*t23.*t26.*t31.*t45)./2.0;
t314 = (t2.*t19.*t22.*t25.*t31.*t48)./2.0;
t315 = (t2.*t20.*t22.*t25.*t31.*t46)./2.0;
t316 = (t2.*t18.*t23.*t26.*t31.*t46)./2.0;
t317 = (t2.*t20.*t22.*t25.*t31.*t47)./2.0;
t318 = (t2.*t18.*t23.*t26.*t31.*t47)./2.0;
t319 = (t2.*t19.*t23.*t26.*t31.*t45)./2.0;
t320 = (t2.*t20.*t22.*t25.*t31.*t48)./2.0;
t321 = (t2.*t18.*t23.*t26.*t31.*t48)./2.0;
t322 = (t2.*t19.*t23.*t26.*t31.*t46)./2.0;
t323 = (t2.*t19.*t23.*t26.*t31.*t47)./2.0;
t324 = (t2.*t20.*t23.*t26.*t31.*t45)./2.0;
t325 = (t2.*t19.*t23.*t26.*t31.*t48)./2.0;
t326 = (t2.*t20.*t23.*t26.*t31.*t46)./2.0;
t327 = (t2.*t20.*t23.*t26.*t31.*t47)./2.0;
t328 = (t2.*t20.*t23.*t26.*t31.*t48)./2.0;
t83 = -t61;
t84 = -t67;
t85 = -t68;
t86 = -t73;
t87 = -t79;
t88 = -t80;
t101 = -t90;
t102 = -t91;
t103 = -t95;
t104 = -t96;
t105 = -t98;
t106 = -t100;
t155 = -t108;
t156 = -t109;
t157 = -t113;
t158 = -t114;
t159 = -t116;
t160 = -t118;
t257 = -t226;
t258 = -t228;
t259 = -t229;
t260 = -t230;
t261 = -t231;
t262 = -t234;
t263 = -t243;
t264 = -t245;
t265 = -t246;
t266 = -t247;
t267 = -t249;
t268 = -t253;
t329 = -t298;
t330 = -t300;
t331 = -t301;
t332 = -t302;
t333 = -t303;
t334 = -t306;
t335 = -t315;
t336 = -t317;
t337 = -t318;
t338 = -t319;
t339 = -t321;
t340 = -t325;
t344 = t49+t60+t65+t70;
t356 = t50+t72+t77+t82;
t370 = t52+t89+t198+t202+t206+t222+t227+t236;
t373 = t53+t93+t203+t209+t214+t232+t239+t248;
t376 = t54+t97+t213+t216+t220+t244+t251+t256;
t382 = t56+t107+t270+t274+t278+t294+t299+t308;
t385 = t57+t111+t275+t281+t286+t304+t311+t320;
t388 = t58+t115+t285+t288+t292+t316+t323+t328;
t341 = t42+t59+t69+t84;
t342 = t43+t62+t63+t85;
t343 = t44+t64+t66+t83;
t348 = abs(t344);
t353 = t46+t71+t81+t87;
t354 = t47+t74+t75+t88;
t355 = t48+t76+t78+t86;
t360 = t344.*t356;
t365 = t53+t92+t124+t126+t199+t223+t257+t258;
t366 = t54+t94+t127+t143+t212+t242+t259+t264;
t367 = t52+t99+t145+t147+t218+t254+t266+t267;
t368 = t51+t101+t128+t197+t204+t221+t233+t260;
t369 = t54+t102+t129+t200+t201+t224+t225+t261;
t371 = t51+t103+t141+t205+t207+t235+t237+t263;
t372 = t52+t104+t132+t208+t210+t238+t240+t262;
t374 = t51+t106+t144+t215+t217+t250+t252+t265;
t375 = t53+t105+t151+t211+t219+t241+t255+t268;
t377 = t57+t110+t166+t168+t271+t295+t329+t330;
t378 = t58+t112+t169+t185+t284+t314+t331+t336;
t379 = t56+t117+t187+t189+t290+t326+t338+t339;
t380 = t55+t155+t170+t269+t276+t293+t305+t332;
t381 = t58+t156+t171+t272+t273+t296+t297+t333;
t383 = t55+t157+t183+t277+t279+t307+t309+t335;
t384 = t56+t158+t174+t280+t282+t310+t312+t334;
t386 = t55+t160+t186+t287+t289+t322+t324+t337;
t387 = t57+t159+t193+t283+t291+t313+t327+t340;
t394 = t356.*t370;
t397 = t356.*t373;
t400 = t356.*t376;
t406 = t344.*t382;
t409 = t344.*t385;
t412 = t344.*t388;
t345 = abs(t341);
t346 = abs(t342);
t347 = abs(t343);
t352 = t348.^2;
t357 = t341.*t353;
t358 = t342.*t354;
t359 = t343.*t355;
t364 = 1.0./sqrt(t360);
t389 = t355.*t365;
t390 = t353.*t366;
t391 = t354.*t367;
t392 = t353.*t368;
t393 = t354.*t369;
t395 = t354.*t371;
t396 = t355.*t372;
t398 = t355.*t374;
t399 = t353.*t375;
t401 = t343.*t377;
t402 = t341.*t378;
t403 = t342.*t379;
t404 = t341.*t380;
t405 = t342.*t381;
t407 = t342.*t383;
t408 = t343.*t384;
t410 = t343.*t386;
t411 = t341.*t387;
t421 = t394+t406;
t424 = t397+t409;
t427 = t400+t412;
t349 = t345.^2;
t350 = t346.^2;
t351 = t347.^2;
t361 = 1.0./sqrt(t357);
t362 = 1.0./sqrt(t358);
t363 = 1.0./sqrt(t359);
t416 = t389+t401;
t417 = t390+t402;
t418 = t391+t403;
t419 = t392+t404;
t420 = t393+t405;
t422 = t395+t407;
t423 = t396+t408;
t425 = t398+t410;
t426 = t399+t411;
t436 = t348.*t364.*t421;
t439 = t348.*t364.*t424;
t442 = t348.*t364.*t427;
t413 = t349+t350+t351+t352;
t428 = t347.*t363.*t416;
t429 = t345.*t361.*t417;
t430 = t346.*t362.*t418;
t434 = t345.*t361.*t419;
t435 = t346.*t362.*t420;
t437 = t346.*t362.*t422;
t438 = t347.*t363.*t423;
t440 = t347.*t363.*t425;
t441 = t345.*t361.*t426;
t414 = 1.0./sqrt(t413);
t431 = -t428;
t432 = -t429;
t433 = -t430;
t415 = t414.^3;
t443 = t431+t434+t435+t436;
t444 = t432+t437+t438+t439;
t445 = t433+t440+t441+t442;
mt1 = [0.0,0.0,0.0,-t370.*t414+(t344.*t415.*t443)./2.0,t368.*t414-(t341.*t415.*t443)./2.0,t369.*t414-(t342.*t415.*t443)./2.0,-t365.*t414-(t343.*t415.*t443)./2.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-t373.*t414+(t344.*t415.*t444)./2.0,-t366.*t414-(t341.*t415.*t444)./2.0,t371.*t414-(t342.*t415.*t444)./2.0,t372.*t414-(t343.*t415.*t444)./2.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-t376.*t414+(t344.*t415.*t445)./2.0,t375.*t414-(t341.*t415.*t445)./2.0,-t367.*t414-(t342.*t415.*t445)./2.0,t374.*t414-(t343.*t415.*t445)./2.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0];
mt2 = [-dt.*(t16+t17-1.0),dt.*(t8+t9),-dt.*(t7-t10),0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-dt.*(t8-t9),-dt.*(t15+t17-1.0),dt.*(t6+t11),0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,dt.*(t7+t10),-dt.*(t6-t11),-dt.*(t15+t16-1.0),0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,dt,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,dt,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,dt,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,dt,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,dt,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,dt];
L_star_16el = reshape([mt1,mt2],16,12);
end
